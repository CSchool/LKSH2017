<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <META content="no-cache" http-equiv="pragma">
    <META content="-1" http-equiv="expires">
    <META content="text/html;charset=UTF-8" http-equiv="content-type">
    <LINK href="problem-statement.css" rel="stylesheet" type="text/css">
    <TITLE>Дороги</TITLE>
</HEAD><BODY>
    <DIV class="problem-statement"><DIV class="header"><DIV class="title">Дороги</DIV><DIV class="time-limit"><DIV class="property-title">ограничение по времени на тест</DIV>1 секунда</DIV><DIV class="memory-limit"><DIV class="property-title">ограничение по памяти на тест</DIV>256 мегабайт</DIV><DIV class="input-file"><DIV class="property-title">ввод</DIV>стандартный ввод</DIV><DIV class="output-file"><DIV class="property-title">вывод</DIV>стандартный вывод</DIV></DIV><DIV class="legend"><P>Мэр города Гадюкино решил проверить состояние дорог после только что проведенного капитального ремонта. Для этого он хочет проехать по каждой дороге в обоих направлениях. Помогите мэру составить кратчайший маршрут, проходящий по каждой дороге в каждом направлении хотя бы один раз.</P></DIV><P></P><P></P><DIV class="input-specification"><DIV class="section-title">Входные данные</DIV><P></P><P>В городе Гадюкино <SPAN class="tex-span"><I>n</I></SPAN> перекрестков и <SPAN class="tex-span"><I>m</I></SPAN> дорог, каждая из которых соединяет два различных перекрестка. Между двумя перекрестками может быть не более одной дороги. Известно, что по дорогам от каждого перекрестка можно доехать до любого другого. Входной файл содержит целые числа <SPAN class="tex-span"><I>n</I></SPAN> и <SPAN class="tex-span"><I>m</I></SPAN> (<SPAN class="tex-span">1&thinsp;&le;&thinsp;<I>n</I>&thinsp;&le;&thinsp;10<SUP class="upper-index">4</SUP></SPAN>, <SPAN class="tex-span">1&thinsp;&le;&thinsp;<I>m</I>&thinsp;&le;&thinsp;10<SUP class="upper-index">5</SUP></SPAN>), и далее m пар целых чисел <SPAN class="tex-span"><I>a</I><SUB class="lower-index"><I>i</I></SUB></SPAN> и <SPAN class="tex-span"><I>b</I><SUB class="lower-index"><I>i</I></SUB></SPAN> - номера перекрестков, которые соединяет <SPAN class="tex-span"><I>i</I></SPAN>-я дорога.</P></DIV><P></P><P></P><DIV class="output-specification"><DIV class="section-title">Выходные данные</DIV><P></P><P>Выведите число <SPAN class="tex-span"><I>s</I></SPAN> &mdash; минимальную длину пути и далее <SPAN class="tex-span"><I>s</I>&thinsp;+&thinsp;1</SPAN> число &mdash; номера перекрестков в том порядке, в котором их нужно проезжать. </P></DIV><P></P><P></P><DIV class="sample-tests"><DIV class="section-title">Пример</DIV><P></P><P></P><DIV class="sample-test"><DIV class="input"><DIV class="title">Входные данные</DIV><PRE class="content">3 3<BR>1 2<BR>2 3<BR>1 3<BR></PRE></DIV><DIV class="output"><DIV class="title">Выходные данные</DIV><PRE class="content">6<BR>1 3 2 1 2 3 1 <BR></PRE></DIV></DIV></DIV></DIV><P></P><P>  

</P></BODY></HTML>